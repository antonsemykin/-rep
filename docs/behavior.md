# Поведенческие модели

## Диаграммы состояний

### 1. Диаграмма состояний для алгоритма поворота фигуры
![image](https://github.com/user-attachments/assets/ca07465c-85da-467f-a1b1-3fae345bae9a)


Описание диаграммы состояний для алгоритма поворота фигуры
- **Ожидание команды (Ожидание)**: В этом состоянии приложение ожидает нажатия клавиши "Вверх" от пользователя.
- **Проверка возможности поворота (Проверка)**: После нажатия клавиши приложение проверяет, может ли фигура быть повернута.
- **Фигура может быть повернута (Возможность)**: Если фигура может быть повернута, система переходит к следующему состоянию.
- **Поворот фигуры (Поворот)**: В этом состоянии происходит фактический поворот фигуры.
- **Обновление отображения (Обновление)**: После поворота приложение обновляет отображение фигуры на экране, чтобы пользователь увидел изменения.

### 2. Диаграмма состояний для алгоритма удаления линии
![image](https://github.com/user-attachments/assets/fe918ab1-ae6e-4a09-ade1-f7f988eae4a0)


Описание диаграммы состояний для алгоритма удаления линии
- **Ожидание заполненной линии (Ожидание)**: Приложение находится в режиме ожидания, проверяя наличие заполненных линий на игровом поле.
- **Проверка наличия заполненных линий (Проверка)**: Приложение периодически проверяет, заполнены ли какие-либо линии.
- **Линия заполнена (Заполненность)**: Если линия оказывается заполненной, приложение переходит к следующему состоянию.
- **Удаление линии (Удаление)**: В этом состоянии происходит удаление заполненной линии из игрового поля.
- **Обновление счета (Обновление)**: После удаления линии приложение обновляет счет игрока и отображает изменения на экране.

### 3. Диаграмма состояний для алгоритма объединения фигуры с игровым полем

![image](https://github.com/user-attachments/assets/9b33da99-e3d3-4e22-b156-8e950fcd9d8d)

Описание диаграммы состояний для алгоритма объединения фигуры с игрым полем
- **Ожидание перемещения фигуры (Ожидание)**: Приложение готово к взаимодействию, ожидая нажатий клавиш от пользователя.
- **Проверка положения фигуры (Проверка)**: При нажатии клавиши "Стрелка вниз" приложение проверяет, достигла ли фигура дна игрового поля или касается ли она других фигур.
- **Фигура достигла дна (Достигнуто дно)**: Если фигура достигает дна или соприкасается с другой фигурой, приложение переходит к следующему состоянию.
- **Объединение с игровым полем (Объединение)**: В этом состоянии фигура объединяется с текущим состоянием игрового поля, фиксируя её позиции.
- **Обновление состояния поля (Обновление)**: После объединения приложение обновляет игровое поле и отображает новые элементы.



## Диаграмма последовательности
![image](https://github.com/user-attachments/assets/6bbc9052-f655-43e5-8eee-778ecfd47af9)

Описание обновленной диаграммы последовательности
- Запуск игры: Игрок инициирует запуск игры, что приводит к вызову метода инициализации в классе TetrisApp.
- Инициализация игры: Класс TetrisApp инициализирует новое игровое поле, а также получает начальную фигуру в классе TetrisShape.
- Обновление игрового состояния:
  - Внутри цикла приложение периодически проверяет события (например, нажатия клавиш).
  - При вводе клавиши игрока, приложение обрабатывает это событие.
  - В зависимости от нажатой клавиши:
    - Движение, поворот или опускание фигуры:
      - Поворот: Приложение выполняет поворот фигуры, проверяет коллизии и уведомляет приложение о возможности поворота.
      - Движение: Обновляется положение фигуры, если это допустимо.
      - Опускание фигуры:
        - Приложение увеличивает значение Y для опускания фигуры и проверяет коллизии.
        - Если фигура не может опуститься, она присоединяется к игровому полю и запускается проверка на заполненные линии.
        - Заполненные линии удаляются, и обновляется счет через ScoreManager.
- Получение следующей фигуры: В любой момент приложение может запросить следующую фигуру от TetrisShape.
- Проверка завершения игры: Приложение проверяет, закончилась ли игра, и если да, уведомляет игрока.
- Перезапуск игры: Игрок может инициировать перезапуск игры после завершения.
