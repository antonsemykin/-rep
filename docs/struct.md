# Структурные модели
---

## Описание внутренней структуры приложения (детализация до уровня функций/методов) с помощью диаграммы классов (Class diagram).

![image](https://github.com/antonsemykin/-rep/assets/159423366/96a8e24b-d104-4448-b134-5fcb710d3460)
* Класс __Game__ содержит главный цикл игры и все глобальные переменные, массивы и функции, которые будут использоваться в дочерних классах таких как: __Level__, __Player__ и __Stats__, также создает все дополнительные экраны помимо игрового поля(старт, смерть, победа), создает задний фон игры, передвигает все объекты во время игры, переворачивает игрока во время прыжка и создает весь текст приложения.
* Класс __Stats__ собирает статистику во время игры, а потом класс __Game__ и выводит ее на экран, создает полосу показывающую положение игрока на карте, из нее __Game__ получает информацию для вывода % прохождения уровня при смерти игрока, считает монеты и попытки.
* Класс __Player__ создает игрока, сам загружает его изображение, отрисовывает частицы позади игрока, имеет функцию прыжка и проверки на столкновение игрока со всеми усложнениями, а также имеет функцию обновления и отрисовки.
* Класс __Level__ создает карту, изменяет размер спрайтов, а также отрисовывает все усложнения, в том числе End и Platform.

## Описание используемых структур/объектов данных с помощью диаграммы объектов и/или диаграммы компонентов

![image](https://github.com/antonsemykin/-rep/assets/159423366/92a3b0f9-4bbf-4d7b-a984-76a406f7edf9)

Главный цикл приложения содержится в классе **Game**, он объединяет между собой все остальные важные классы и функции, такие как:

[ (Game), (Player), (Stats), (Level) - это всё основные классы приложения ]
* **def blitRotate** (Game), помогающая повернуть персонажа во время прыжка
  * **def init** (Player), в которой хранятся основные данные о персонаже;
* **def eval_outcome** (Game), отвечающая за выведение экранов после поражения/победы, а также за создание уровней;
  * **def reset** (Game), возвращающая классы спрайтов, музыку и др. для нового уровня
    *  **def init_level, def block_map, class Sprites, class Draw, def resize** (все из Level) созданы для отрисовки уровня, спрайтов и изменения их размеров
  * **def wait_for_key** (Game), ожидающая, пока пользователь нажмет кнопку на экранах, которые создают функции:
    * **def start screen, def won_screen, def death_screen** (все из Game), они ожидают запуска игры, выводят кол-во монет за уровень и переключают уровень на следующий, а также показывают статистику за уровень и запускают его с начала, **соответственно**
* **def draw_stats** (Stats), которая собирает, сохраняет и выводит статистику;
  * **def coin_count** (Stats), считающая монеты на это прохождение уровня 
* **def move_map** (Game), передвигающая созданную карту уровня

Вторая по важности структура - это **def update** (Player), она проверяет и обновляет самые важные данные о персонаже:
* **def collide** (Player), проверяет столкновение персонажа с другими объектами (чаще со стенами, после чего персонаж умирает)
  * **def jump, def jumpMinus** (оба из Player), отвечают за подбрасывание и оттталкивания персонажа вверх и вниз **соответственно**
